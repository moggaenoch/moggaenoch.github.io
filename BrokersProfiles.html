<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Juba Homez - Broker Profiles" />
  <meta name="author" content="MOGGA ENOCH" />
  <title>JUBA HOMEZ | Broker Profiles</title>

  <!-- Favicon (update path if needed) -->
  <link rel="icon" type="image/x-icon" href="assets/pictures logo/JUBA HOMEZ LOGO.png" />

  <!-- Bootstrap 5.3 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Optional Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

  <style>
    body { background:#f8fafc; }
    .page-hero { background: linear-gradient(180deg, #0f172a 0%, #111827 100%); color:#fff; }
    .card-hover { transition: transform .15s ease, box-shadow .15s ease; }
    .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(2,6,23,.08); }
    .avatar {
      width: 56px; height: 56px; border-radius: 50%;
      display:flex; align-items:center; justify-content:center;
      background:#e2e8f0; color:#0f172a; font-weight:700;
      flex: 0 0 56px;
    }
    .badge-soft { background:#eef2ff; color:#3730a3; border:1px solid #e0e7ff; }
    .small-muted { color:#64748b; }
    .truncate-2 {
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom border-dark-subtle sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">JUBA HOMEZ</a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"
        aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="mainNav">
        <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">


          <!-- Dropdown: Areas we cover -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="manageDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              AREAS WE COVER
            </a>
            <ul class="dropdown-menu" aria-labelledby="manageDropdown">
              <li><a class="dropdown-item" href="../propertyManagement/Gudele.html">Gudele</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/Gurei.html">Gurei</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/Jebel.html">Jebel</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/Joppa.html">Joppa</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/Kator.html">Kator</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/LemonGaba.html">Lemongaba</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/Muniki.html">Muniki</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/Nyakuron.html">Nyakuron</a></li>
              <li><a class="dropdown-item" href="../propertyManagement/RockCity.html">Rock City</a></li>
            </ul>
          </li>

          <li class="nav-item"><a class="nav-link active" href="./BrokersProfiles.html">Brokers</a></li>
          <li class="nav-item"><a class="nav-link" href="../property-owner/Property_Owner_Profile.html">Property Owners</a></li>

          <li class="nav-item ms-lg-2">
            <a class="btn btn-primary btn-sm" href="../auth/login.html"><i class="bi bi-box-arrow-in-right me-1"></i>Sign In</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="page-hero py-5">
    <div class="container">
      <div class="row align-items-center g-3">
        <div class="col-lg-8">
          <h1 class="display-6 fw-bold mb-2">Broker Profiles</h1>
          <p class="mb-0 text-white-50">Browse verified brokers and contact them directly for property inquiries.</p>
        </div>
        
      </div>
    </div>
  </header>

  <!-- CONTENT -->
  <main class="py-4">
    <div class="container">
      <!-- Toolbar -->
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-body">
          <div class="row g-3 align-items-end">
            <div class="col-lg-6">
              <label class="form-label fw-semibold">Search brokers</label>
              <div class="input-group">
                <span class="input-group-text"><i class="bi bi-search"></i></span>
                <input id="searchInput" type="text" class="form-control" placeholder="Search by name, area, or company..." />
              </div>
              <div class="small small-muted mt-1">Tip: try ‚ÄúGudele‚Äù, ‚Äúrent‚Äù, ‚Äúcommercial‚Äù, ‚ÄúJoppa‚Äù.</div>
            </div>
            <div class="col-lg-3">
              <label class="form-label fw-semibold">Filter by area</label>
              <select id="areaFilter" class="form-select">
                <option value="">All areas</option>
                <option>Gudele</option>
                <option>Gurei</option>
                <option>Jebel</option>
                <option>Joppa</option>
                <option>Kator</option>
                <option>Lemongaba</option>
                <option>Muniki</option>
                <option>Nyakuron</option>
                <option>Rock City</option>
              </select>
            </div>
            <div class="col-lg-3">
              <label class="form-label fw-semibold">Sort</label>
              <select id="sortSelect" class="form-select">
                <option value="rating">Highest rating</option>
                <option value="name">Name (A-Z)</option>
                <option value="listings">Most listings</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <!-- Cards -->
      <div id="profilesGrid" class="row g-3">
        <!-- Example card 1 -->
        <div class="col-md-6 col-xl-4 profile-card"
             data-name="James Lado" data-area="Gudele" data-company="Juba Homez Partners"
             data-rating="4.8" data-listings="24">
          <div class="card card-hover border-0 shadow-sm h-100">
            <div class="card-body">
              <div class="d-flex gap-3">
                <div class="avatar">JL</div>
                <div class="flex-grow-1">
                  <div class="d-flex align-items-start justify-content-between gap-2">
                    <div>
                      <h5 class="mb-0 fw-bold">James Lado</h5>
                      <div class="small text-muted">Juba Homez Partners ‚Ä¢ <span class="fw-semibold">Gudele</span></div>
                    </div>
                    <span class="badge text-bg-success">4.8‚òÖ</span>
                  </div>
                  <p class="mt-2 mb-2 small-muted truncate-2">
                    Residential rentals & family homes. Fast response and verified property documents.
                  </p>

                  <div class="d-flex flex-wrap gap-2">
                    <span class="badge bg-light text-dark border"><i class="bi bi-house me-1"></i>24 listings</span>
                    <span class="badge bg-light text-dark border"><i class="bi bi-clock me-1"></i>Avg reply: 30 min</span>
                    <span class="badge bg-light text-dark border"><i class="bi bi-geo-alt me-1"></i>Gudele</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer bg-white border-0 pt-0">
              <div class="d-flex gap-2">
                <a class="btn btn-outline-dark w-50" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
                   data-title="James Lado" data-role="Broker" data-area2="Gudele" data-company2="Juba Homez Partners"
                   data-phone="+211 900 000 001" data-email="james.lado@jubahomez.com"
                   data-bio="Specializes in residential rentals & family homes in Gudele. Helps with viewing schedules and basic contract guidance.">
                  <i class="bi bi-person-lines-fill me-1"></i>View Profile
                </a>
                <a class="btn btn-primary w-50" href="tel:+211900000001"><i class="bi bi-telephone me-1"></i>Call</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Example card 2 -->
        <div class="col-md-6 col-xl-4 profile-card"
             data-name="Sarah Wani" data-area="Kator" data-company="Wani Realty"
             data-rating="4.6" data-listings="18">
          <div class="card card-hover border-0 shadow-sm h-100">
            <div class="card-body">
              <div class="d-flex gap-3">
                <div class="avatar">SW</div>
                <div class="flex-grow-1">
                  <div class="d-flex align-items-start justify-content-between gap-2">
                    <div>
                      <h5 class="mb-0 fw-bold">Sarah Wani</h5>
                      <div class="small text-muted">Wani Realty ‚Ä¢ <span class="fw-semibold">Kator</span></div>
                    </div>
                    <span class="badge text-bg-success">4.6‚òÖ</span>
                  </div>
                  <p class="mt-2 mb-2 small-muted truncate-2">
                    Commercial properties, shops & offices. Great for business clients and long-term leases.
                  </p>

                  <div class="d-flex flex-wrap gap-2">
                    <span class="badge bg-light text-dark border"><i class="bi bi-house me-1"></i>18 listings</span>
                    <span class="badge bg-light text-dark border"><i class="bi bi-clock me-1"></i>Avg reply: 1 hr</span>
                    <span class="badge bg-light text-dark border"><i class="bi bi-geo-alt me-1"></i>Kator</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer bg-white border-0 pt-0">
              <div class="d-flex gap-2">
                <a class="btn btn-outline-dark w-50" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
                   data-title="Sarah Wani" data-role="Broker" data-area2="Kator" data-company2="Wani Realty"
                   data-phone="+211 900 000 002" data-email="sarah.wani@wanirealty.com"
                   data-bio="Focuses on shops, offices, and commercial leasing. Can arrange viewings and negotiate terms with property owners.">
                  <i class="bi bi-person-lines-fill me-1"></i>View Profile
                </a>
                <a class="btn btn-primary w-50" href="tel:+211900000002"><i class="bi bi-telephone me-1"></i>Call</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Example card 3 -->
        <div class="col-md-6 col-xl-4 profile-card"
             data-name="Peter Khamis" data-area="Joppa" data-company="Khamis Estates"
             data-rating="4.4" data-listings="12">
          <div class="card card-hover border-0 shadow-sm h-100">
            <div class="card-body">
              <div class="d-flex gap-3">
                <div class="avatar">PK</div>
                <div class="flex-grow-1">
                  <div class="d-flex align-items-start justify-content-between gap-2">
                    <div>
                      <h5 class="mb-0 fw-bold">Peter Khamis</h5>
                      <div class="small text-muted">Khamis Estates ‚Ä¢ <span class="fw-semibold">Joppa</span></div>
                    </div>
                    <span class="badge text-bg-success">4.4‚òÖ</span>
                  </div>
                  <p class="mt-2 mb-2 small-muted truncate-2">
                    Budget-friendly rentals and shared units. Helpful for students and small families.
                  </p>

                  <div class="d-flex flex-wrap gap-2">
                    <span class="badge bg-light text-dark border"><i class="bi bi-house me-1"></i>12 listings</span>
                    <span class="badge bg-light text-dark border"><i class="bi bi-clock me-1"></i>Avg reply: 2 hrs</span>
                    <span class="badge bg-light text-dark border"><i class="bi bi-geo-alt me-1"></i>Joppa</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer bg-white border-0 pt-0">
              <div class="d-flex gap-2">
                <a class="btn btn-outline-dark w-50" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
                   data-title="Peter Khamis" data-role="Broker" data-area2="Joppa" data-company2="Khamis Estates"
                   data-phone="+211 900 000 003" data-email="peter.khamis@khamisestates.com"
                   data-bio="Specializes in budget rentals and shared units in Joppa. Can help you compare units and arrange quick viewings.">
                  <i class="bi bi-person-lines-fill me-1"></i>View Profile
                </a>
                <a class="btn btn-primary w-50" href="tel:+211900000003"><i class="bi bi-telephone me-1"></i>Call</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty state -->
      <div id="emptyState" class="text-center py-5 d-none">
        <div class="display-6">üòï</div>
        <h3 class="mt-2">No results</h3>
        <p class="text-muted">Try a different keyword or clear the filter.</p>
        <button id="clearBtn" class="btn btn-outline-dark">Clear filters</button>
      </div>
    </div>
  </main>

  <!-- PROFILE MODAL (shared) -->
  <div class="modal fade" id="profileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-bold" id="modalTitle">Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="small text-muted mb-2" id="modalMeta">Role ‚Ä¢ Area ‚Ä¢ Company</div>
          <p class="mb-3" id="modalBio"></p>

          <div class="border rounded p-3 bg-light">
            <div class="d-flex align-items-center justify-content-between mb-2">
              <span class="fw-semibold"><i class="bi bi-telephone me-1"></i>Phone</span>
              <a id="modalPhone" href="#" class="text-decoration-none"></a>
            </div>
            <div class="d-flex align-items-center justify-content-between">
              <span class="fw-semibold"><i class="bi bi-envelope me-1"></i>Email</span>
              <a id="modalEmail" href="#" class="text-decoration-none"></a>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <a id="modalCallBtn" class="btn btn-primary" href="#"><i class="bi bi-telephone me-1"></i>Call</a>
          <a id="modalMailBtn" class="btn btn-outline-dark" href="#"><i class="bi bi-envelope me-1"></i>Email</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS (required for dropdowns + modal) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Modal fill
    const profileModal = document.getElementById('profileModal');
    profileModal.addEventListener('show.bs.modal', event => {
      const btn = event.relatedTarget;
      const title = btn.getAttribute('data-title') || 'Profile';
      const role = btn.getAttribute('data-role') || '';
      const area = btn.getAttribute('data-area2') || '';
      const company = btn.getAttribute('data-company2') || '';
      const phone = btn.getAttribute('data-phone') || '';
      const email = btn.getAttribute('data-email') || '';
      const bio = btn.getAttribute('data-bio') || '';

      document.getElementById('modalTitle').textContent = title;
      document.getElementById('modalMeta').textContent = [role, area, company].filter(Boolean).join(' ‚Ä¢ ');
      document.getElementById('modalBio').textContent = bio;

      const phoneLink = document.getElementById('modalPhone');
      phoneLink.textContent = phone || 'N/A';
      phoneLink.href = phone ? `tel:${phone.replace(/\s+/g,'')}` : '#';

      const emailLink = document.getElementById('modalEmail');
      emailLink.textContent = email || 'N/A';
      emailLink.href = email ? `mailto:${email}` : '#';

      document.getElementById('modalCallBtn').href = phone ? `tel:${phone.replace(/\s+/g,'')}` : '#';
      document.getElementById('modalMailBtn').href = email ? `mailto:${email}` : '#';
    });

    // Search + filter + sort
    const searchInput = document.getElementById('searchInput');
    const areaFilter = document.getElementById('areaFilter');
    const sortSelect = document.getElementById('sortSelect');
    const cards = Array.from(document.querySelectorAll('.profile-card'));
    const emptyState = document.getElementById('emptyState');
    const clearBtn = document.getElementById('clearBtn');

    function applyFilters() {
      const q = (searchInput.value || '').toLowerCase().trim();
      const area = areaFilter.value;

      // Filter
      let visible = cards.filter(card => {
        const name = (card.dataset.name || '').toLowerCase();
        const company = (card.dataset.company || '').toLowerCase();
        const cardArea = (card.dataset.area || '');

        const matchesText = !q || (name.includes(q) || company.includes(q) || cardArea.toLowerCase().includes(q));
        const matchesArea = !area || cardArea === area;
        return matchesText && matchesArea;
      });

      // Sort
      const sortBy = sortSelect.value;
      visible.sort((a, b) => {
        if (sortBy === 'name') return (a.dataset.name || '').localeCompare(b.dataset.name || '');
        if (sortBy === 'listings') return Number(b.dataset.listings || 0) - Number(a.dataset.listings || 0);
        return Number(b.dataset.rating || 0) - Number(a.dataset.rating || 0);
      });

      // Hide all then show sorted visible
      cards.forEach(c => c.classList.add('d-none'));
      visible.forEach(c => c.classList.remove('d-none'));

      // Empty state
      emptyState.classList.toggle('d-none', visible.length !== 0);
    }

    searchInput.addEventListener('input', applyFilters);
    areaFilter.addEventListener('change', applyFilters);
    sortSelect.addEventListener('change', applyFilters);

    if (clearBtn) {
      clearBtn.addEventListener('click', () => {
        searchInput.value = '';
        areaFilter.value = '';
        sortSelect.value = 'rating';
        applyFilters();
      });
    }

    applyFilters();
  </script>
</body>
</html>